(this.webpackJsonprss=this.webpackJsonprss||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/home.e7e3d09e.svg"},112:function(e,t,a){e.exports=a.p+"static/media/arrowup.74050c57.svg"},114:function(e,t,a){e.exports=a.p+"static/media/enter.46317646.svg"},122:function(e,t){},124:function(e,t){},150:function(e,t){},152:function(e,t){},167:function(e,t,a){e.exports=a.p+"static/media/newspaper.9c95b6a2.svg"},168:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),o=(a(98),a(15));var u=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__wrapper"},r.a.createElement("h3",null,"RSS App"),r.a.createElement("nav",null,r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{src:a(103),alt:"Home",title:"Return to home page"})))))},i=a(31),m=a(29),s=a(91),f=a(7);var p=function(e){return r.a.createElement("button",{className:"button"},e.text)};var d=function(e){var t=e.index,a=e.name,n=e.url,c=e.remove;return r.a.createElement("div",{className:"collectionPage"},r.a.createElement("h3",null,a," "),r.a.createElement("h3",{className:"collectionPage__url"},n),r.a.createElement(o.b,{to:"/".concat(a)},r.a.createElement(p,{text:"Open"})),r.a.createElement("button",{className:"button",onClick:function(){return c(t)}},"Delete"))},v=function(e,t,a){if(null===t)return a;var n=t.filter((function(t){return t.name===e.name})),r=Object(f.a)(n,1)[0];return e.name?e.name.length<3||e.name.length>12?"Incorrect name length":e.url?/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gm.test(e.url)?0!==n.length&&e.name===r.name?"Name already exist":void 0:"Wrong URL":"URL is required":"Name is required"};var E=function(e){var t=e.msg;return r.a.createElement("div",{className:"errorMsg"},r.a.createElement("p",null,t))},g=a(104).animateScroll;var b=function(e){return r.a.createElement("div",{className:"button-top ".concat(e.appear)},r.a.createElement("a",{className:"button-top__link",href:"#top",onClick:g.scrollToTop}," ",r.a.createElement("img",{className:"button-top__return",src:a(112),alt:"Arrow Up"})))},h=a(30);var O=function(){var e=Object(n.useState)({name:"",url:""}),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(f.a)(l,2),u=o[0],g=o[1],O=Object(n.useState)(null),N=Object(f.a)(O,2),j=N[0],w=N[1],x=Object(h.a)({threshold:0,rootMargin:"-100px"}),k=Object(f.a)(x,3),S=k[0],I=(k[1],k[2]),_=void 0!==I&&!I.isIntersecting,D=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(s.a)({},e,Object(m.a)({},a,n))}))},y=function(e){var t=j.indexOf(e);w((function(e){return e.filter((function(a){return a!==e[t]}))})),localStorage.setItem("feeds",JSON.stringify(j))};Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("feeds")||null;w(JSON.parse(e))}()}),[]),Object(n.useEffect)((function(){localStorage.setItem("feeds",JSON.stringify(j))}));var L=null!==j&&j.map((function(e,t){return r.a.createElement(d,{key:t,name:e.name,url:e.url,remove:y,index:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=v(a,j,"Complete the fields");t&&"Complete the fields"!==t?g(t):"Complete the fields"===t?(g(t),w([])):(g(null),w((function(e){return null!==e?[].concat(Object(i.a)(e),[a]):[a]})))},ref:S},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",value:a.name,name:"name",placeholder:" Add name (3-12 characters)",onChange:D}),r.a.createElement("label",null,"URL:"),r.a.createElement("input",{type:"url",value:a.url,name:"url",placeholder:" Add URL",onChange:D}),u&&r.a.createElement(E,{msg:u}),r.a.createElement(p,{text:"Add"})),L,r.a.createElement(b,{appear:_?"appear":""}))},N=a(16),j=a(59),w=a.n(j),x=a(92);var k=function(e){var t=e.feedTitle,n=e.feedLink,c=e.feedImg,l=e.feedDesc,o=e.feedDate,u=""!==t?"block":"none";return r.a.createElement("div",{className:"feedInfo__wrapper feedInfo__wrapper--clear",style:{display:u}},r.a.createElement("p",null,o),r.a.createElement("h2",null,t),r.a.createElement("div",{className:"feedInfo__desc"},r.a.createElement("a",{href:n},r.a.createElement("img",{alt:"News link",src:""!==c?c:a(114),title:"Move to original news page"}))),r.a.createElement("p",null,l))};var S=function(){return r.a.createElement("div",{className:"loading-page"},r.a.createElement("div",{className:"loading-page__spinner"}))},I=new(a(115));var _=function(){var e=Object(n.useState)([{feedTitle:"",feedDesc:"",feedImg:"",feedLink:"",feedDate:""}]),t=Object(f.a)(e,2),c=t[0],l=t[1],o=Object(n.useState)(""),u=Object(f.a)(o,2),m=u[0],s=u[1],p=Object(n.useState)(!1),d=Object(f.a)(p,2),v=d[0],E=d[1],g=Object(h.a)({threshold:0,rootMargin:"-100px"}),O=Object(f.a)(g,3),j=O[0],_=(O[1],O[2]),D=void 0!==_&&!_.isIntersecting,y=Object(N.f)().nameId;Object(n.useEffect)((function(){var e=!1;return Object(x.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("feeds"));case 2:if(a=t.sent,!e){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,a.find((function(e){return e.name===y}));case 7:if(n=t.sent,!e){t.next=10;break}return t.abrupt("return");case 10:return t.prev=10,t.next=13,I.parseURL("https://cors-anywhere.herokuapp.com/"+n.url,(function(t,a){if(t)throw console.log("".concat(t," (Fetch problem)"));e||(s(a.title),a.items.forEach((function(e){l((function(t){return[].concat(Object(i.a)(t),[{feedTitle:void 0!==e.title?e.title:"",feedDesc:void 0!==e.contentSnippet?e.contentSnippet:"",feedImg:void 0!==e.enclosure?e.enclosure.url:"",feedLink:void 0!==e.link?e.link:"",feedDate:void 0!==e.pubDate?e.pubDate:""}])}))})),E(!0))}));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(10),console.log("".concat(t.t0," Something went wrong..."));case 18:case"end":return t.stop()}}),t,null,[[10,15]])})))(),function(){e=!0}}),[y]);var L=c.map((function(e,t){return r.a.createElement(k,{key:t,feedTitle:e.feedTitle,feedDesc:e.feedDesc,feedImg:e.feedImg,feedLink:e.feedLink,feedDate:e.feedDate})}));return r.a.createElement(r.a.Fragment,null,v?r.a.createElement("div",{className:"feedInfo"},r.a.createElement("h1",{className:"feedInfo__mainTitle",ref:j},r.a.createElement("img",{src:a(167),alt:"Newspaper icon"}),m),L):r.a.createElement(S,null),r.a.createElement(b,{appear:D?"appear":""}))};var D=function(){return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/"},r.a.createElement("div",{className:"appWrapper"},r.a.createElement(O,null))),r.a.createElement(N.a,{exact:!0,path:"/:nameId"},r.a.createElement(_,null))))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(D,null)),document.getElementById("root"))},93:function(e,t,a){e.exports=a(168)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.7555c050.chunk.js.map